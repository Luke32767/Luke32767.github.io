---
layout: post
title: '[NOIP1998 普及组] 阶乘之和'
author: Luke32767
date: 2022-10-16 19:55 +0800
last_modified_at: 2022-10-16 19:55 +0800
tags: [Luogu, NOIP]
toc: true
---

## 内容概要
[NOIP1998 普及组] 阶乘之和

## 题目描述
用高精度计算出 S = 1! + 2! + 3! + …… + n! （n ≤ 50）。

其中 `!` 表示阶乘，定义为 n!=n* (n-1)* (n-2)* …… * 1 。例如， 5! = 5 * 4 * 3 * 2 * 1 = 120 。

## 输入格式

一个正整数 n。

## 输出格式

一个正整数 S，表示计算结果。

## 题目说明

[P1009]: https://www.luogu.com.cn/problem/P1009
[[NOIP1998 普及组] 阶乘之和][P1009]

对于 100 % 的数据，1 ≤ n ≤ 50 。

## 题目样例

### 样例输入 #1

```
3
```

### 样例输出 #1

```
9
```

## 题目解答

``` c++
//P1009
#include<bits/stdc++.h>

using namespace std;

const int E=100000;
int a[E],b[E];
int lenall=0,lena=0,lenb=0;

int main()
{
    int n;
    a[0]=1;
    b[0]=1;
	
    cin>>n;
	
    lena=1;
    lenb=1;
	
    for(int i=2;i<=n;i++)
    {
        for(int j=0;j<lenb;j++)
        {
            b[j]*=i;
        }
        for(int j=0;j<lenb;j++)
        {
            if(b[j]>=10)
            {
                b[j+1]+=b[j]/10;
                b[j]%=10;
				
                if(b[lenb]!=0)lenb++;
            }
        }

        int k;
        if(lena<lenb)
        {
            lena=lenb;
        }
        else lenb=lena;
		
        for(int j=0;j<lena;j++)
        {
            a[j]+=b[j];
        }
        for(int j=0;j<lena;j++)
        {
            if(a[j]>=10)
            {
                a[j+1]+=1;
                a[j]-=10;
				
                if(a[lena]!=0)
                {
                    lena++;
                }
            }	
        }
    }
	
    for(int i=lena-1;i>=0;i--)
    {
        cout<<a[i];
    }
	
    return 0;
}
```
